rule PitchedRoof2Construction {
	
	source { 
		[=] house:TH.House {
			[+] -next->nextHouse
		}
		[+] nextHouse:TH.House {
			.pitchedRoof:=true;
			.prefab:=false;
		}
	}
	
	target {
		[=] set:WB.BlockSet {
			[=] -constructions->constr
			[+] -constructions->nextConstr
		}
		[=] constr:WB.Construction
		[+] nextConstr:WB.Construction {
			.constructor:=constr.constructor;
			[+] -components->cube
			[+] -components->prism
		}
		[+] cube:WB.Cube
		[+] prism:WB.TriangularPrism
	}
	
	correspondence {
		[=] b2c:Structure2Construction {
			src->house
			trg->constr
		}
		[+] nb2nc:Structure2Construction {
			src->nextHouse
			trg->nextConstr
		}
	}
	
	attributeConditions {
		DefaultAttributeConditionLibrary.eq_string(nextHouse.name, nextConstr.name)
	}

}

