#using AdeleToAadl.*
#using AttrCondDefLibrary.*

#rule ruleAccessConnToAccessConnSrcParentDestSubcompo #with AdeleToAadl

#source { 
	adeleCompImplType:Adele.Component
	{
		
		-allRealFeatures->adeleComponentAccess
		
	}
	
	adeleComponentAccess:Adele.Access
	adeleComponentImplementation:Adele.Component
	{
		-type->adeleCompImplType
		-allRealChildrenComponents->adeleSubcomponent
		++ -allRealRelations->adeleConnection
		
		
	}
	++adeleConnection:AccessConnection{
		++ -originalSourceFeature ->adeleComponentAccess
		++ -originalSinkSubcomponent->adeleSubcomponent
		
	}
	adeleSubcomponent:Adele.Component
	
		
		
	}

#target {
	aadlComponentAccess:Access
	++ sourceConnectedElement:ConnectedElement {
		++ -connectionEnd->aadlComponentAccess
		
	}
	++ aadlConnection:AccessConnection{
		++ -source->sourceConnectedElement
		++ -destination->destinationConnectedElement
	}
	++ destinationConnectedElement:ConnectedElement{
		++ -connectionEndAce->aadlSubcomponent
		
	}
	aadlSubcomponent:AccessConnectionEnd
	
		
	
	aadlComponentImplementation:ComponentImplementation{
		-type->aadlCompImplType
		-member->aadlSubcomponent
	}
	aadlCompImplType:ComponentType{
		-member->aadlComponentAccess
	}
}


#correspondence {
	corrComponentAccess:CorrAccess{
		
	    #src->adeleComponentAccess
        #trg->aadlComponentAccess
	}
	
	corrComponentType:CorrComponentType{
		#src->adeleCompImplType
		#trg->aadlCompImplType
	}
	corrComponentImplementation:CorrComponentImplementation{
		#src->adeleComponentImplementation
		#trg->aadlComponentImplementation
		
		
	}
	++corrConnection:CorrAccessConnection{
		#src->adeleConnection
		#trg->aadlConnection
		
	}
	++corrConnection1:CorrAccessConnectionttrgCE{
		#src->adeleConnection
		#trg->sourceConnectedElement
		
	}
	++corrConnection2:CorrAccessConnectionttrgCE{
		#src->adeleConnection
		#trg->destinationConnectedElement
		
	}
}

#attributeConditions {
	
}
